<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>Coronavirus - vis</title>

    <meta name="author" content="Fero Hajnovic" />

    <link rel="shortcut icon" href="">


    <link href='https://fonts.googleapis.com/css?family=Didact Gothic' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/3.2.1/dc.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</head>

<script src="{{ url_for('static', filename='main_bundle.js') }}"></script>

<header>
    <h1>Covid-19 visualisation</h1>

    <div class="flex-container">
        <div>
            Data from: <br>
            <a href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide">ECDC</a> - updated: <span id="data-when-ecdc">(loading)</span> <br>
            <a href="https://www.google.com/covid19/mobility/">Google</a> - updated: <span id="data-when-gmob">(loading)</span>
        </div>
    
        <div style="text-align: right;">
            Made by Frantisek Hajnovic <br/>
            Powered by <a href="https://dc-js.github.io/dc.js/">dc.js</a>, 
            <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/">flask</a>
            and <a href="https://heroku.com/">heroku</a> <br>
            Check out the code on <a href="https://github.com/silverfield/corona-vis">GitHub</a>
        </div>
    </div>
</header>

<body>
    <div class="loader-container">
        <div id="loader" class="loader"></div>
    </div>
    <div id="content" style="display: none;"> 
        <form id="controls" class="controls">
            <div class="control">
                <label for="search-country">Search country:</label>
                <div class="autocomplete" style="width:300px;">
                    <input 
                        type="text" 
                        id="search-country" 
                        placeholder="leave empty for all..."
                    >
                </div>
            </div>
            <div class="control">
                <input id="submit" type="submit" />
            </div>
        </form>

        <hr>

        <div class="reset-all-div">
            <a class='reset-all' href='javascript:resetAll();'>
                Reset all charts
            </a>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h5>Total cases by country (top 10)</h5>
                <div id='totalCasesByCountryChart' class="country-bar">
                    <a class='reset'
                        href='javascript:resetChart(totalCasesByCountryChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>
            </div>
        </div>
        <div class="evo-controls">
            <div class="control">
                <input type="checkbox" id="log-scale" name="log-scale">
                <label for="log-scale">Log scale (base 2)</label><br>
            </div>
        </div>
        <div class="row evolution-top-row">
            <div class="col-md-6">
                <h5>Total cases in time</h5>
                <div id='totalCasesInTimeChart' class="evolution-chart">
                    <a class='reset'
                        href='javascript:resetChart(totalCasesInTimeChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <h5>New cases in time</h5>
                <div id='newCasesInTimeChart' class="evolution-chart">
                    <a class='reset'
                        href='javascript:resetChart(newCasesInTimeChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h5>Total deaths in time</h5>
                <div id='totalDeathsInTimeChart' class="evolution-chart">
                    <a class='reset'
                        href='javascript:resetChart(totalDeathsInTimeChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <h5>New deaths in time</h5>
                <div id='newDeathsInTimeChart' class="evolution-chart">
                    <a class='reset'
                        href='javascript:resetChart(newDeathsInTimeChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>    
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h5>Google mobility (% change from baseline)</h5>
                <i class="chart-note">Only one country must be selected</i>
                <div id='mobilityChart' class="evolution-chart">
                    <a class='reset'
                        href='javascript:resetChart(mobilityChart);'
                        style='visibility: hidden;'
                    >
                        reset
                    </a>
                </div>    
            </div>
        </div>
    </div>
</body>
<footer>
    design &amp; development by Frantisek Hajnovic<br/>
    copyright Â© 2020<br/>
</footer>
</html>

